<!DOCTYPE html>
<html lang="ar" dir="ltr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sunday Board - Project Management</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script crossorigin src="https://unpkg.com/react@18/umd/react.development.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.development.js"></script>
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/9.22.0/firebase-database-compat.js"></script>
    <script>
        const firebaseConfig = {
            apiKey: "AIzaSyACk3UhHouKfGsOu3ZJfaOhqLqucumn2UQ",
            authDomain: "sunday-fb28c.firebaseapp.com",
            databaseURL: "https://sunday-fb28c-default-rtdb.firebaseio.com",
            projectId: "sunday-fb28c",
            storageBucket: "sunday-fb28c.firebasestorage.app",
            messagingSenderId: "24752239756",
            appId: "1:24752239756:web:386c2c72624eb67ba337a9"
        };
        let firebaseApp, database;
        window.initFirebase = function() {
            if (typeof firebase !== 'undefined') {
                if (!firebase.apps.length) firebaseApp = firebase.initializeApp(firebaseConfig);
                else firebaseApp = firebase.apps[0];
                database = firebase.database();
                return true;
            }
            return false;
        };
        window.saveToFirebase = async (path, data) => { if (!database) return false; try { await database.ref(path).set(data); return true; } catch (e) { return false; } };
        window.loadFromFirebase = async (path) => { if (!database) return null; try { const snap = await database.ref(path).once('value'); return snap.val(); } catch (e) { return null; } };
    </script>
    <style>
        * { margin: 0; padding: 0; box-sizing: border-box; }
        body { font-family: 'Inter', -apple-system, sans-serif; background: #F6F7FB; font-size: 14px; color: #323338; }
        #root { width: 100%; min-height: 100vh; }
        button { font-family: inherit; cursor: pointer; }
        input, textarea { font-family: inherit; }
        ::-webkit-scrollbar { width: 6px; }
        ::-webkit-scrollbar-track { background: #f1f1f1; }
        ::-webkit-scrollbar-thumb { background: #c1c1c1; border-radius: 3px; }
    </style>
</head>
<body>
    <div id="root"><div style="display:flex;align-items:center;justify-content:center;min-height:100vh;">Loading...</div></div>
    <script type="text/babel">
const { useState, useEffect } = React;

// ========== THEME ==========
const THEME = {
    dark: '#323338',
    gray: '#676879',
    lightGray: '#C5C7D0',
    border: '#E6E9EF',
    bg: '#F6F7FB',
    white: '#FFFFFF',
    primary: '#0073EA',
    purple: '#7B68EE',
};

// ========== INITIAL DATA ==========
const INITIAL_FOLDERS = [
    {
        id: 'f1', name: 'Name Folder', expanded: true,
        items: [
            { id: 'b1', name: 'Name board', type: 'board' },
            { id: 'b2', name: 'Name board', type: 'board' },
            { id: 'd1', name: 'Name document', type: 'document' },
        ]
    },
    {
        id: 'f2', name: 'Name Folder', expanded: true,
        items: [
            { id: 'b3', name: 'Name board', type: 'board' },
            { id: 'b4', name: 'Name board', type: 'board' },
            { id: 'd2', name: 'Name document', type: 'document' },
        ]
    },
    { id: 'f3', name: 'Name Folder', expanded: false, items: [] },
];

const INITIAL_GROUPS = [
    {
        id: 'g1', title: 'Group title', collapsed: true,
        items: [
            { id: 'i1', name: 'Name item', creation: '19 May', subitems: [
                { id: 's1', name: 'Subitem 1', creation: '19 May', subsubitems: [
                    { id: 'ss1', name: 'Sub-subitem 1', creation: '19 May' },
                    { id: 'ss2', name: 'Sub-subitem 2', creation: '19 May' },
                ]},
                { id: 's2', name: 'Subitem 2', creation: '19 May', subsubitems: [] },
                { id: 's3', name: 'Subitem 3', creation: '19 May', subsubitems: [] },
            ]},
            { id: 'i2', name: 'Name item', creation: '20 May', subitems: [] },
        ]
    },
    {
        id: 'g2', title: 'Group title', collapsed: true,
        items: [
            { id: 'i3', name: 'Name item', creation: '19 May', subitems: [
                { id: 's4', name: 'Subitem 1', creation: '19 May', subsubitems: [] },
                { id: 's5', name: 'Subitem 2', creation: '19 May', subsubitems: [] },
                { id: 's6', name: 'Subitem 3', creation: '19 May', subsubitems: [] },
            ]},
            { id: 'i4', name: 'Name item', creation: '20 May', subitems: [] },
        ]
    },
    {
        id: 'g3', title: 'Group title', collapsed: false,
        items: [
            { id: 'i5', name: 'Name item', creation: '19 May', subitems: [
                { id: 's7', name: 'Subitem 1', creation: '19 May', subsubitems: [] },
                { id: 's8', name: 'Subitem 2', creation: '19 May', subsubitems: [] },
            ]},
            { id: 'i6', name: 'Name item', creation: '10 May', subitems: [] },
        ]
    },
];

const INITIAL_UPDATES = [
    { id: 'u1', person: 'Person Name', time: '1d', breadcrumb: 'Board name > Item > Subitem', message: 'Message' },
    { id: 'u2', person: 'Person Name', time: '1d', breadcrumb: 'Board name > Item > Subitem', message: 'Message' },
];

// ========== MAIN APP ==========
const App = () => {
    const [folders, setFolders] = useState(INITIAL_FOLDERS);
    const [groups, setGroups] = useState(INITIAL_GROUPS);
    const [updates, setUpdates] = useState(INITIAL_UPDATES);
    const [selectedBoard, setSelectedBoard] = useState('b1');
    const [showUpdates, setShowUpdates] = useState(true);
    const [activeTab, setActiveTab] = useState('Updates');
    const [isLoading, setIsLoading] = useState(true);

    useEffect(() => {
        const init = async () => {
            window.initFirebase && window.initFirebase();
            // Load data from API
            try {
                const res = await fetch('/api/monday/boards');
                const result = await res.json();
                if (result.success && result.data?.boards?.length > 0) {
                    const board = result.data.boards[0];
                    const mappedGroups = (board.groups || []).map(g => {
                        const items = (board.items_page?.items || [])
                            .filter(i => i.group?.id === g.id)
                            .map(i => ({
                                id: i.id,
                                name: i.name,
                                creation: '19 May',
                                subitems: (i.subitems || []).map(s => ({
                                    id: s.id,
                                    name: s.name,
                                    creation: '19 May',
                                    subsubitems: []
                                }))
                            }));
                        return { id: g.id, title: g.title, collapsed: false, items };
                    });
                    if (mappedGroups.length > 0) setGroups(mappedGroups);
                }
            } catch (e) { console.log('Using default data'); }
            setIsLoading(false);
        };
        init();
    }, []);

    const toggleFolder = (fId) => setFolders(f => f.map(x => x.id === fId ? {...x, expanded: !x.expanded} : x));
    const toggleGroup = (gId) => setGroups(g => g.map(x => x.id === gId ? {...x, collapsed: !x.collapsed} : x));

    const countSubitems = (items) => items.reduce((a, i) => a + (i.subitems?.length || 0), 0);
    const countSubsubitems = (items) => items.reduce((a, i) => a + (i.subitems || []).reduce((b, s) => b + (s.subsubitems?.length || 0), 0), 0);

    if (isLoading) return <div style={{display:'flex',alignItems:'center',justifyContent:'center',minHeight:'100vh',background:THEME.bg}}>Loading...</div>;

    return (
        <div style={{ display: 'flex', minHeight: '100vh', background: THEME.bg }}>
            {/* ===== SIDEBAR ===== */}
            <div style={{ width: 240, background: THEME.white, borderRight: `1px solid ${THEME.border}`, display: 'flex', flexDirection: 'column' }}>
                {/* Logo */}
                <div style={{ padding: '16px 20px', background: '#292F4C' }}>
                    <span style={{ color: THEME.white, fontSize: 18, fontWeight: 600 }}>Logo</span>
                </div>

                {/* Nav Items */}
                <div style={{ padding: '12px 16px' }}>
                    <NavItem icon="ğŸ“Š" label="Dashboard and reporting" />
                    <NavItem icon="â˜‘ï¸" label="My work" />
                    <NavItem icon="â˜†" label="Favorites" expandable />
                </div>

                {/* Workspaces */}
                <div style={{ padding: '8px 16px', borderTop: `1px solid ${THEME.border}` }}>
                    <div style={{ display: 'flex', alignItems: 'center', justifyContent: 'space-between', marginBottom: 8 }}>
                        <span style={{ fontSize: 12, color: THEME.gray, display: 'flex', alignItems: 'center', gap: 6 }}>
                            <span>âŠ</span> Workspaces
                        </span>
                        <span style={{ color: THEME.gray, cursor: 'pointer' }}>Â·Â·Â·</span>
                    </div>
                    <div style={{ display: 'flex', alignItems: 'center', gap: 8, padding: '8px 12px', background: THEME.white, border: `1px solid ${THEME.border}`, borderRadius: 4, marginBottom: 12 }}>
                        <span style={{ background: THEME.purple, color: 'white', padding: '2px 8px', borderRadius: 4, fontSize: 12, fontWeight: 600 }}>W</span>
                        <span style={{ flex: 1, fontSize: 14 }}>Workspaces</span>
                        <span style={{ color: THEME.gray, fontSize: 10 }}>â–¾</span>
                        <button style={{ background: THEME.dark, color: 'white', border: 'none', borderRadius: 4, width: 24, height: 24, fontSize: 16 }}>+</button>
                    </div>
                </div>

                {/* Folder Tree */}
                <div style={{ flex: 1, overflow: 'auto', padding: '0 16px 16px' }}>
                    {folders.map(folder => (
                        <div key={folder.id} style={{ marginBottom: 4 }}>
                            <div onClick={() => toggleFolder(folder.id)} style={{ display: 'flex', alignItems: 'center', gap: 6, padding: '6px 8px', cursor: 'pointer', borderRadius: 4 }}>
                                <span style={{ color: THEME.gray, fontSize: 8, transform: folder.expanded ? 'rotate(0)' : 'rotate(-90deg)', transition: '0.2s' }}>â–¼</span>
                                <span>ğŸ“</span>
                                <span style={{ flex: 1, fontSize: 14, fontWeight: 500 }}>{folder.name}</span>
                                <span style={{ color: THEME.gray }}>â‹®</span>
                            </div>
                            {folder.expanded && folder.items.map(item => (
                                <div key={item.id} onClick={() => setSelectedBoard(item.id)} style={{
                                    display: 'flex', alignItems: 'center', gap: 8, padding: '6px 8px 6px 28px', cursor: 'pointer', borderRadius: 4,
                                    background: selectedBoard === item.id ? '#E6F4FF' : 'transparent'
                                }}>
                                    <span>{item.type === 'board' ? 'ğŸ“‹' : 'ğŸ“„'}</span>
                                    <span style={{ fontSize: 14, color: selectedBoard === item.id ? THEME.primary : THEME.dark }}>{item.name}</span>
                                </div>
                            ))}
                        </div>
                    ))}
                </div>
            </div>

            {/* ===== MAIN AREA ===== */}
            <div style={{ flex: 1, display: 'flex', flexDirection: 'column' }}>
                {/* Top Bar */}
                <div style={{ background: THEME.white, borderBottom: `1px solid ${THEME.border}`, display: 'flex', alignItems: 'center', justifyContent: 'space-between', padding: '0 24px', height: 48 }}>
                    <div></div>
                    <div style={{ display: 'flex', alignItems: 'center', gap: 16 }}>
                        <span style={{ cursor: 'pointer' }}>ğŸ””</span>
                        <span style={{ cursor: 'pointer' }}>ğŸ‘¥</span>
                        <span style={{ cursor: 'pointer' }}>ğŸ”</span>
                        <div style={{ width: 32, height: 32, borderRadius: '50%', background: THEME.lightGray }}></div>
                    </div>
                </div>

                {/* Board Header */}
                <div style={{ background: THEME.white, padding: '16px 24px 0' }}>
                    <div style={{ display: 'flex', alignItems: 'center', gap: 8, marginBottom: 16 }}>
                        <h1 style={{ fontSize: 20, fontWeight: 600, margin: 0 }}>Name board</h1>
                        <span style={{ color: THEME.gray }}>â–¾</span>
                    </div>
                    <div style={{ display: 'flex', borderBottom: `1px solid ${THEME.border}` }}>
                        <Tab label="Main table" active />
                        <Tab label="Doc" />
                        <span style={{ padding: '12px 16px', color: THEME.lightGray, cursor: 'pointer' }}>+</span>
                    </div>
                </div>

                {/* Toolbar */}
                <div style={{ background: THEME.white, padding: '12px 24px', display: 'flex', alignItems: 'center', gap: 12, borderBottom: `1px solid ${THEME.border}` }}>
                    <button style={{ padding: '8px 16px', background: THEME.dark, color: 'white', border: 'none', borderRadius: 4, fontSize: 14, fontWeight: 500 }}>+ New item</button>
                    <div style={{ display: 'flex', alignItems: 'center', border: `1px solid ${THEME.border}`, borderRadius: 4, padding: '6px 12px', gap: 8, background: THEME.white }}>
                        <span style={{ color: THEME.gray }}>ğŸ”</span>
                        <input type="text" placeholder="Search" style={{ border: 'none', outline: 'none', fontSize: 14, width: 100 }} />
                    </div>
                    <ToolbarBtn icon="ğŸ‘¥" label="People" />
                    <ToolbarBtn icon="â–½" label="Filter" />
                    <ToolbarBtn icon="â†•" label="Sort" />
                </div>

                {/* Content Area */}
                <div style={{ flex: 1, display: 'flex', overflow: 'hidden' }}>
                    {/* Groups */}
                    <div style={{ flex: 1, overflow: 'auto', padding: 24 }}>
                        {groups.map(group => {
                            const subCount = countSubitems(group.items);
                            const subsubCount = countSubsubitems(group.items);
                            return (
                                <div key={group.id} style={{ marginBottom: 16 }}>
                                    {/* Group Header */}
                                    <div onClick={() => toggleGroup(group.id)} style={{ display: 'flex', alignItems: 'center', gap: 8, padding: '8px 0', cursor: 'pointer' }}>
                                        <span style={{ color: THEME.gray, fontSize: 10, transform: group.collapsed ? 'rotate(-90deg)' : 'rotate(0)', transition: '0.2s' }}>â–¼</span>
                                        <span style={{ fontWeight: 600, color: THEME.dark }}>{group.title}</span>
                                        <span style={{ fontSize: 12, color: THEME.gray }}>
                                            {group.items.length} Items / {subCount} Subitems{subsubCount > 0 ? ` / ${subsubCount} Sub-subitems` : ''}
                                        </span>
                                    </div>

                                    {/* Table */}
                                    {!group.collapsed && (
                                        <div style={{ background: THEME.white, border: `1px solid ${THEME.border}`, borderRadius: 4 }}>
                                            {/* Table Header */}
                                            <div style={{ display: 'grid', gridTemplateColumns: '40px 1fr 120px', borderBottom: `1px solid ${THEME.border}`, fontSize: 12, color: THEME.gray }}>
                                                <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                                                    <input type="checkbox" />
                                                </div>
                                                <div style={{ padding: '8px 12px' }}>Task</div>
                                                <div style={{ padding: 8, textAlign: 'center' }}>Creation</div>
                                            </div>

                                            {/* Items */}
                                            {group.items.map(item => (
                                                <ItemRow key={item.id} item={item} />
                                            ))}

                                            {/* Add Task */}
                                            <div style={{ padding: '8px 12px 8px 52px', borderTop: `1px solid ${THEME.border}` }}>
                                                <span style={{ color: THEME.gray, fontSize: 13, cursor: 'pointer' }}>+ Add task</span>
                                            </div>
                                        </div>
                                    )}
                                </div>
                            );
                        })}

                        {/* Add Group Button */}
                        <button style={{ display: 'flex', alignItems: 'center', gap: 8, padding: '12px 20px', background: THEME.white, border: `1px solid ${THEME.border}`, borderRadius: 4, fontSize: 14, color: THEME.dark }}>
                            + Add new group
                        </button>
                    </div>

                    {/* ===== UPDATES PANEL ===== */}
                    {showUpdates && (
                        <div style={{ width: 360, background: THEME.white, borderLeft: `1px solid ${THEME.border}`, display: 'flex', flexDirection: 'column' }}>
                            {/* Header */}
                            <div style={{ padding: '16px 20px', borderBottom: `1px solid ${THEME.border}`, display: 'flex', alignItems: 'center', justifyContent: 'space-between' }}>
                                <h3 style={{ fontSize: 16, fontWeight: 600, margin: 0 }}>Board Name Updates</h3>
                                <span onClick={() => setShowUpdates(false)} style={{ cursor: 'pointer', fontSize: 20, color: THEME.gray }}>Ã—</span>
                            </div>

                            {/* Tabs */}
                            <div style={{ display: 'flex', borderBottom: `1px solid ${THEME.border}` }}>
                                {['Activity', 'Last viewed', 'Updates'].map(tab => (
                                    <button key={tab} onClick={() => setActiveTab(tab)} style={{
                                        flex: 1, padding: '12px', background: 'none', border: 'none',
                                        borderBottom: activeTab === tab ? '2px solid #323338' : '2px solid transparent',
                                        color: activeTab === tab ? THEME.dark : THEME.gray, fontSize: 13, fontWeight: 500
                                    }}>{tab}</button>
                                ))}
                            </div>

                            {/* Updates List */}
                            <div style={{ flex: 1, overflow: 'auto', padding: 16 }}>
                                {updates.map(update => (
                                    <UpdateCard key={update.id} update={update} />
                                ))}
                            </div>
                        </div>
                    )}
                </div>
            </div>
        </div>
    );
};

// ========== COMPONENTS ==========
const NavItem = ({ icon, label, expandable }) => (
    <div style={{ display: 'flex', alignItems: 'center', gap: 10, padding: '8px 10px', borderRadius: 4, cursor: 'pointer', fontSize: 14 }}>
        <span>{icon}</span>
        <span style={{ flex: 1 }}>{label}</span>
        {expandable && <span style={{ color: THEME.gray, fontSize: 10 }}>â–¾</span>}
    </div>
);

const Tab = ({ label, active }) => (
    <button style={{
        padding: '12px 16px', background: 'none', border: 'none',
        borderBottom: active ? '2px solid #323338' : '2px solid transparent',
        color: active ? THEME.dark : THEME.gray, fontSize: 14, fontWeight: active ? 500 : 400, marginBottom: -1
    }}>{label}</button>
);

const ToolbarBtn = ({ icon, label }) => (
    <button style={{ display: 'flex', alignItems: 'center', gap: 6, padding: '6px 10px', background: 'none', border: 'none', fontSize: 13, color: THEME.gray }}>
        <span>{icon}</span><span>{label}</span>
    </button>
);

const ItemRow = ({ item }) => {
    const [expanded, setExpanded] = useState(false);
    const [hovered, setHovered] = useState(false);
    const hasSubitems = item.subitems && item.subitems.length > 0;

    return (
        <>
            <div
                style={{ display: 'grid', gridTemplateColumns: '40px 1fr 120px', borderBottom: `1px solid ${THEME.border}`, background: hovered ? '#F5F6F8' : 'white' }}
                onMouseEnter={() => setHovered(true)}
                onMouseLeave={() => setHovered(false)}
            >
                <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                    <input type="checkbox" />
                </div>
                <div style={{ padding: '8px 12px', display: 'flex', alignItems: 'center', gap: 8 }}>
                    <span onClick={() => hasSubitems && setExpanded(!expanded)} style={{ color: THEME.gray, fontSize: 10, cursor: hasSubitems ? 'pointer' : 'default' }}>
                        {hasSubitems ? (expanded ? 'â–½' : 'â–·') : 'â–·'}
                    </span>
                    <span style={{ fontSize: 14 }}>{item.name}</span>
                    {hovered && (
                        <>
                            <span style={{ color: THEME.gray, cursor: 'pointer' }}>â‹®</span>
                            <span style={{ color: THEME.gray, cursor: 'pointer', border: `1px solid ${THEME.border}`, borderRadius: 2, padding: '0 4px', fontSize: 12 }}>âŠ•</span>
                        </>
                    )}
                </div>
                <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 6 }}>
                    <span style={{ background: THEME.purple, color: 'white', padding: '2px 6px', borderRadius: 10, fontSize: 10, fontWeight: 500 }}>NP</span>
                    <span style={{ fontSize: 13 }}>{item.creation}</span>
                </div>
            </div>

            {/* Subitems */}
            {expanded && hasSubitems && (
                <div style={{ background: '#F5F6F8' }}>
                    {item.subitems.map(sub => (
                        <SubitemRow key={sub.id} subitem={sub} />
                    ))}
                    <div style={{ padding: '8px 12px 8px 72px' }}>
                        <span style={{ color: THEME.gray, fontSize: 12, cursor: 'pointer' }}>+ Add task</span>
                    </div>
                </div>
            )}
        </>
    );
};

const SubitemRow = ({ subitem }) => {
    const [expanded, setExpanded] = useState(false);
    const [hovered, setHovered] = useState(false);
    const hasSubs = subitem.subsubitems && subitem.subsubitems.length > 0;

    return (
        <>
            <div
                style={{ display: 'grid', gridTemplateColumns: '40px 1fr 120px', borderBottom: `1px solid ${THEME.border}`, background: hovered ? '#ECEDF0' : '#F5F6F8', paddingLeft: 20 }}
                onMouseEnter={() => setHovered(true)}
                onMouseLeave={() => setHovered(false)}
            >
                <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                    <input type="checkbox" />
                </div>
                <div style={{ padding: '8px 12px', display: 'flex', alignItems: 'center', gap: 8 }}>
                    <span onClick={() => hasSubs && setExpanded(!expanded)} style={{ color: THEME.gray, fontSize: 10, cursor: hasSubs ? 'pointer' : 'default' }}>
                        {hasSubs ? (expanded ? 'â–½' : 'â–·') : 'â–·'}
                    </span>
                    <span style={{ fontSize: 13 }}>{subitem.name}</span>
                    {hovered && <span style={{ color: THEME.gray, cursor: 'pointer' }}>â‹®</span>}
                </div>
                <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 6 }}>
                    <span style={{ background: THEME.purple, color: 'white', padding: '2px 6px', borderRadius: 10, fontSize: 10, fontWeight: 500 }}>NP</span>
                    <span style={{ fontSize: 12 }}>{subitem.creation}</span>
                </div>
            </div>

            {/* Sub-subitems */}
            {expanded && hasSubs && (
                <div style={{ background: '#EAEBEE' }}>
                    {subitem.subsubitems.map(ss => (
                        <div key={ss.id} style={{ display: 'grid', gridTemplateColumns: '40px 1fr 120px', borderBottom: `1px solid ${THEME.border}`, paddingLeft: 40 }}>
                            <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center' }}>
                                <input type="checkbox" />
                            </div>
                            <div style={{ padding: '8px 12px', display: 'flex', alignItems: 'center', gap: 8 }}>
                                <span style={{ color: THEME.gray, fontSize: 10 }}>â–·</span>
                                <span style={{ fontSize: 12 }}>{ss.name}</span>
                            </div>
                            <div style={{ padding: 8, display: 'flex', alignItems: 'center', justifyContent: 'center', gap: 6 }}>
                                <span style={{ background: THEME.purple, color: 'white', padding: '2px 6px', borderRadius: 10, fontSize: 10, fontWeight: 500 }}>NP</span>
                                <span style={{ fontSize: 11 }}>{ss.creation}</span>
                            </div>
                        </div>
                    ))}
                </div>
            )}
        </>
    );
};

const UpdateCard = ({ update }) => {
    const [showMenu, setShowMenu] = useState(false);
    return (
        <div style={{ background: THEME.white, border: `1px solid ${THEME.border}`, borderRadius: 8, padding: 16, marginBottom: 12, position: 'relative' }}>
            {/* Header */}
            <div style={{ display: 'flex', alignItems: 'center', gap: 10, marginBottom: 8 }}>
                <span style={{ background: THEME.purple, color: 'white', padding: '4px 8px', borderRadius: 12, fontSize: 11, fontWeight: 500 }}>NP</span>
                <span style={{ fontWeight: 600, fontSize: 14 }}>{update.person}</span>
                <span style={{ color: THEME.gray, fontSize: 12 }}>{update.time}</span>
                <div style={{ marginLeft: 'auto', position: 'relative' }}>
                    <span onClick={() => setShowMenu(!showMenu)} style={{ cursor: 'pointer', color: THEME.gray }}>â‹®</span>
                    {showMenu && (
                        <div style={{ position: 'absolute', top: 20, right: 0, background: THEME.white, border: `1px solid ${THEME.border}`, borderRadius: 4, boxShadow: '0 2px 8px rgba(0,0,0,0.1)', zIndex: 10 }}>
                            <div style={{ padding: '8px 16px', cursor: 'pointer', whiteSpace: 'nowrap' }}>âœï¸ Edit update</div>
                            <div style={{ padding: '8px 16px', cursor: 'pointer', whiteSpace: 'nowrap' }}>ğŸ”— Copy link to update</div>
                            <div style={{ padding: '8px 16px', cursor: 'pointer', whiteSpace: 'nowrap' }}>ğŸ—‘ï¸ Delete update</div>
                        </div>
                    )}
                </div>
            </div>
            {/* Breadcrumb */}
            <div style={{ fontSize: 12, color: THEME.gray, marginBottom: 8, display: 'flex', alignItems: 'center', gap: 4 }}>
                <span>ğŸ“‹</span> {update.breadcrumb}
            </div>
            {/* Message */}
            <div style={{ fontSize: 14, marginBottom: 12 }}>{update.message}</div>
            {/* Actions */}
            <div style={{ display: 'flex', alignItems: 'center', gap: 16, marginBottom: 12 }}>
                <span style={{ display: 'flex', alignItems: 'center', gap: 4, fontSize: 13, color: THEME.gray, cursor: 'pointer' }}>ğŸ‘ Like</span>
                <span style={{ display: 'flex', alignItems: 'center', gap: 4, fontSize: 13, color: THEME.gray, cursor: 'pointer' }}>â†©ï¸ Reply</span>
                <span style={{ marginLeft: 'auto', cursor: 'pointer' }}>ğŸ‘ï¸</span>
            </div>
            {/* Reply Input */}
            <div style={{ display: 'flex', alignItems: 'center', gap: 8, padding: 12, background: '#F5F6F8', borderRadius: 4 }}>
                <span style={{ background: THEME.purple, color: 'white', padding: '4px 8px', borderRadius: 12, fontSize: 11 }}>NP</span>
                <input type="text" placeholder="Write a reply and mention others with @" style={{ flex: 1, border: 'none', background: 'transparent', outline: 'none', fontSize: 13 }} />
            </div>
            <div style={{ display: 'flex', alignItems: 'center', gap: 12, marginTop: 8 }}>
                <span style={{ fontSize: 12, color: THEME.gray, cursor: 'pointer' }}>@ Mention</span>
                <span style={{ fontSize: 12, color: THEME.gray, cursor: 'pointer' }}>ğŸ“</span>
                <span style={{ fontSize: 12, color: THEME.gray, cursor: 'pointer' }}>GIF</span>
                <span style={{ fontSize: 12, color: THEME.gray, cursor: 'pointer' }}>ğŸ˜Š</span>
                <button style={{ marginLeft: 'auto', padding: '6px 16px', background: THEME.primary, color: 'white', border: 'none', borderRadius: 4, fontSize: 13 }}>Reply â–¾</button>
            </div>
        </div>
    );
};

// ========== RENDER ==========
ReactDOM.createRoot(document.getElementById('root')).render(<App />);
    </script>
</body>
</html>
